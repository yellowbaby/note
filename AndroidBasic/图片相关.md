### 服务器解析得到图片URL显示图片

 1. 使用HttpURLConnection从服务器解析txt文件得到下载路径
 
``` java
    //解析服务器的txt文件存入List<String> mImagePaths
    private void loadImagePaths() {
        try {
            String urlPath = "http://192.168.87.2:8080//img/photo.txt";
            URL url = new URL(urlPath);
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();
            if (connection.getResponseCode() == 200) {
                InputStream is = connection.getInputStream();
                BufferedReader reader = new BufferedReader(new InputStreamReader(is));
                String line = null;
                while ((line = reader.readLine()) != null) {
                    mImagePaths.add(line);
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```
　photo.txt文件
 

``` xml
http://192.168.87.2:8080/img/a.png
http://192.168.87.2:8080/img/b.png
http://192.168.87.2:8080/img/c.png
http://192.168.87.2:8080/img/d.png
http://192.168.87.2:8080/img/f.png
```

 2. 根据路径加载图片显示在ImageView mIv

``` java
    //根据路径加载图片显示在ImageView mIv
    private void loadImageByPath(String imagePath) {
        try {
            URL url = new URL(imagePath);
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();
            if (connection.getResponseCode() == 200) {
                InputStream is = connection.getInputStream();
                final Bitmap bmp = BitmapFactory.decodeStream(is);
                runOnUiThread(new Runnable() {
                    @Override
                    public void run() {
                        mIv.setImageBitmap(bmp);
                    }
                });
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```
