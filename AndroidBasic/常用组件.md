### ListView
#### 用法

 1. 创建数据源
 2. 根据数据源获得适配器
 3. 给ListView设置适配器

#### 三种常见的适配器
##### ArrayAdapter

　　最简单的适配器，三行代码可以搞定，不需要自定义布局文件，完全使用Android自带的，适合简单的显示文本信息
 
``` java
public class ArrayAdapterActivity extends AppCompatActivity {

    private ListView mlistView;

    private List<String> mDataList = new ArrayList<>();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.array_adapter_layout);
        initData();//创建数据源
        mlistView = (ListView) findViewById(R.id.lv_list);
        ArrayAdapter adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, android.R.id.text1, mDataList);//根据数据源获得适配器
        mlistView.setAdapter(adapter);// 给ListView设置适配器
    }

    //生成数据源
    private void initData() {
        for (int i = 0; i < 20; i++) {
            mDataList.add(i + "");
        }
    }
}
```



##### SimpleAdapter

 1. 稍微复杂一点的适配器，看看构造函数先，需要的数据源是一个List<Map>
 
``` java
    /**
     * Constructor
     * @param context  环境
     * @param data  需求的数据源
     * @param resource 需要的布局文件
     * @param from 需要匹配的字段
     * @param to 需要匹配的字段对应的资源ID
     */
public SimpleAdapter(Context context, List<? extends Map<String, ?>> data,
            @LayoutRes int resource, String[] from, @IdRes int[] to) {
			...
}			
```

 2. 自定义布局文件

``` xml
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"  >

    <TextView
        android:id="@+id/name_tv"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
		android:layout_alignParentTop="true"
		android:layout_marginLeft="5dp"
		android:layout_marginTop="5dp" />

    <TextView
        android:id="@+id/grade_tv"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/name_tv"
        android:layout_alignLeft="@id/name_tv"
        android:layout_marginTop="5dp" />

    <TextView
        android:id="@+id/clazz_tv"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@id/grade_tv"
        android:layout_alignTop="@id/grade_tv"
        android:layout_marginLeft="5dp" />

</RelativeLayout>
```

 3. 使用方法

``` java
package com.androidbasic;

import android.app.Activity;
import android.os.Bundle;
import android.widget.ListView;
import android.widget.SimpleAdapter;

import java.util.ArrayList;
import java.util.HashMap;

public class SimpleAdapterActivity extends Activity {

    private ListView mListView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.simple_adapter_layout);

        mListView = (ListView) findViewById(R.id.lv_list);

        ArrayList<HashMap<String, String>> datas = initListViewData();

        SimpleAdapter adapter = new SimpleAdapter(
                this, datas, R.layout.student_lv_item_layout,
                new String[]{"student_name", "student_grade", "student_class"},
                new int[]{R.id.name_tv, R.id.grade_tv, R.id.clazz_tv});

        mListView.setAdapter(adapter);

    }

    //生成需要的数据源
    private ArrayList<HashMap<String, String>> initListViewData() {
        ArrayList<Student> students = new ArrayList<Student>();
        for (int i = 0; i < 30; i++) {
            students.add(new Student("张三" + i, "3年级", i + "班级"));
        }
        ArrayList<HashMap<String, String>> datas = new ArrayList<>();
        for (int i = 0; i < students.size(); i++) {
            Student student = students.get(i);
            HashMap<String, String> itemData = new HashMap<String, String>();
            itemData.put("student_name", student.getName());
            itemData.put("student_grade", student.getGrade());
            itemData.put("student_class", student.getClazz());
            datas.add(itemData);
        }
        return datas;
    }

    class Student {
        private String name;
        private String grade;
        private String clazz;

        public Student(String name, String grade, String clazz) {
            this.name = name;
            this.grade = grade;
            this.clazz = clazz;
        }

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }

        public String getGrade() {
            return grade;
        }

        public void setGrade(String grade) {
            this.grade = grade;
        }

        public String getClazz() {
            return clazz;
        }

        public void setClazz(String clazz) {
            this.clazz = clazz;
        }
    }
}

```
